{% extends "admin/change_form.html" %}
{% load static %}

{% block extrahead %}
    {{ block.super }}
    <style>
        .variation-highlight {
            background-color: #eef8ff;
            transition: background-color 0.3s ease;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const rows = document.querySelectorAll('tr.dynamic-options');

            rows.forEach(row => {
                const input = row.querySelector('input[id$="-variation_type"]');

                if (input) {
                    const highlightRow = () => {
                        const value = input.value.trim().toLowerCase();
                        row.classList.toggle('variation-highlight', value.includes('color'));
                    };

                    // Initial highlight for pre-filled fields
                    highlightRow();

                    input.addEventListener('blur', highlightRow);
                    input.addEventListener('input', highlightRow);
                }
            });
        });
    </script>
    
{% endblock %}


